# Speckit: Plan (Implementation Strategy)

## Phase 1: Infrastructure & Core Engine
**Goal**: Set up the repo and the deterministic calculation engine.
- [ ] Initialize Monorepo structure (Frontend + Backend).
- [ ] **Backend**: Implement `NatalCalculator` using `astronomy-engine`.
- [ ] **Backend**: Implement `TransitCalculator` and `MomentumScorer` (The proprietary algorithm).
- [ ] Verify calculation outputs (Unit Tests).

## Phase 2: Frontend & Visualization
**Goal**: Render the "Life Candle" chart.
- [ ] **Frontend**: Initialize Next.js with Tailwind.
- [ ] Integrate `lightweight-charts`.
- [ ] Build the `CandleChart` component (adapt momentum data to OHLC format).
- [ ] Implement "Day", "Month", "Year" timeframe switching.

## Phase 3: User Onboarding & Data
**Goal**: Connect real user birth data to the engine.
- [ ] **Database**: Design Supabase schema (`users`, `daily_signals`).
- [ ] **Frontend**: Build Onboarding Flow (Date/Time/Location picker).
- [ ] **Backend**: API endpoint to receive user data -> Compute 90-day history -> Return chart data.

## Phase 4: Interpretation & LLM
**Goal**: Add the "Story" layer.
- [ ] **Backend**: Integrate LLM (Gemini/OpenAI) to generate text based on signal tags.
- [ ] **Frontend**: Build "Candle Detail" modal (BottomSheet on mobile).
- [ ] Implement caching for LLM responses to save costs.

## Phase 5: Virality & Polish
**Goal**: Optimize for sharing and launch.
- [ ] **Frontend**: Create "Share Card" generator (Canvas or HTML-to-Image).
- [ ] **UI**: Polish animations (Framer Motion) for "Cinematic" feel.
- [ ] **Deploy**: Production deploy to Vercel and Railway.