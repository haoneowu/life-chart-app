# Speckit: Tasks

## Setup
- [ ] Run `npx create-next-app@latest life-chart --typescript --tailwind --eslint` (or similar command).
- [ ] Install dependencies: `@supabase/supabase-js`, `@tanstack/react-query`, `lucide-react`, `clsx`, `tailwind-merge`.
- [ ] Install dev dependencies: `@playwright/test`, `prettier`, `prettier-plugin-tailwindcss`.
- [ ] Initialize Supabase project locally or link to remote.
- [ ] Create `.env.local` with `NEXT_PUBLIC_SUPABASE_URL` and `NEXT_PUBLIC_SUPABASE_ANON_KEY`.

## Database (Supabase)
- [ ] Run SQL: Create `public.users` table with `birth_date`.
- [ ] Run SQL: Create `public.weeks` table (id, user_id, start_date, notes, etc.).
- [ ] Run SQL: Create `public.eras` table (id, user_id, label, start_date, end_date, color).
- [ ] Run SQL: Enable RLS on all tables.
- [ ] Run SQL: Create policies "Users can only select/insert/update/delete their own data".

## Frontend - Core
- [ ] Create `components/ui` folder.
- [ ] Create `LifeGrid.tsx`: Calculate weeks since birth. Render grid.
- [ ] Create `WeekBox.tsx`: Accept props (status: past/present/future, color).
- [ ] Implement `utils/dateHelpers.ts`: Helper functions to calculate weeks between dates.

## Frontend - Auth
- [ ] Create `app/login/page.tsx`: Login form.
- [ ] Create `app/auth/callback/route.ts`: Handle OAuth callback (if used) or session exchange.
- [ ] Create `components/AuthButton.tsx`.

## Frontend - Features
- [ ] Create `WeekDetailModal.tsx`: Dialog to edit week info.
- [ ] Connect `WeekDetailModal` to Supabase `weeks` table (fetch/upsert).
- [ ] Create `Onboarding.tsx`: Force user to enter birth date if missing.

## Testing & Deploy
- [ ] Write `tests/auth.spec.ts`: Verify login flow.
- [ ] Write `tests/grid.spec.ts`: Verify grid renders correct number of weeks.
- [ ] Configure `vercel.json` (if needed).
- [ ] Push to GitHub.
